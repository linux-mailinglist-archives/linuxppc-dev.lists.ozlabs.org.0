Return-Path: <linuxppc-dev-bounces+lists+linuxppc-dev=lfdr.de@lists.ozlabs.org>
X-Original-To: lists+linuxppc-dev@lfdr.de
Delivered-To: lists+linuxppc-dev@lfdr.de
Received: from lists.ozlabs.org (lists.ozlabs.org [112.213.38.117])
	by mail.lfdr.de (Postfix) with ESMTPS id 4FDEC73B013
	for <lists+linuxppc-dev@lfdr.de>; Fri, 23 Jun 2023 07:32:29 +0200 (CEST)
Authentication-Results: lists.ozlabs.org;
	dkim=pass (2048-bit key; unprotected) header.d=csgroup.eu header.i=@csgroup.eu header.a=rsa-sha256 header.s=selector2 header.b=N3mQA6Da;
	dkim-atps=neutral
Received: from boromir.ozlabs.org (localhost [IPv6:::1])
	by lists.ozlabs.org (Postfix) with ESMTP id 4QnQqH1YsKz3c7v
	for <lists+linuxppc-dev@lfdr.de>; Fri, 23 Jun 2023 15:32:27 +1000 (AEST)
X-Original-To: linuxppc-dev@lists.ozlabs.org
Delivered-To: linuxppc-dev@lists.ozlabs.org
Authentication-Results: lists.ozlabs.org;
	dkim=pass (2048-bit key; unprotected) header.d=csgroup.eu header.i=@csgroup.eu header.a=rsa-sha256 header.s=selector2 header.b=N3mQA6Da;
	dkim-atps=neutral
Authentication-Results: lists.ozlabs.org; spf=pass (sender SPF authorized) smtp.mailfrom=csgroup.eu (client-ip=2a01:111:f400:7e19::619; helo=fra01-mr2-obe.outbound.protection.outlook.com; envelope-from=christophe.leroy@csgroup.eu; receiver=lists.ozlabs.org)
Received: from FRA01-MR2-obe.outbound.protection.outlook.com (mail-mr2fra01on20619.outbound.protection.outlook.com [IPv6:2a01:111:f400:7e19::619])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by lists.ozlabs.org (Postfix) with ESMTPS id 4QnQnR6QyWz3bb7
	for <linuxppc-dev@lists.ozlabs.org>; Fri, 23 Jun 2023 15:30:51 +1000 (AEST)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=WzxKsk+oNPs/5u2+LqAYz0tlWUWgTy4zJnOYkCf1sYtws7ry2tr1l5rnp1Gicvm6ZT/7qHuWQRid5jshFDVHlsGtcTbaDlFjbWwvT1xuvNAGmBI+rCBEMc600MaIBSC5A7M6GDO5DD/5xefXlq3Ie1V9xYK90elcVOSoHM/mPPrA8+QqWrzL2JQGqA8Wp83ZnCW/9bqO9YZM3xvQwXYTEe2mwIw9xXhslF317Lr0BjyaJRAoDwGlW/NPBzQJssoNYvy38O06EkEo19Ul+xWUrAZKEXvp4zlXZZ8oczdRgEOZy4w0e1a6MFfw7Rp/hTcHQde9eXnMDKw32E4WeuP9WQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=peldN5irYtqPhAA1nDyhHOgX78D4l0y7N8YVmpZIIBk=;
 b=Veq4aiYShRV3+83zMkL8JF0WmYIk96DfMyKRkiTxtnco9lMDyo5coihA2H36t7K2OyU858G4hIqAb0Vpw149wt9m7u0+kGUcrYdPtk6R1f1wSpW1ei8nAmeV2yMtB9fZAz1uEXI4Z12I5CtT+HV4REQ1qWqqyLbJX2Dtaoo0yCRzLBHtZYJlKdmLC1Llo5cLrYGy5HF2j/N9kVMCXbkIovUDWubsXyQP5R2tvomXRStv++EakLjnD8PlINuv3glrphw+IjIzxOcyfAJgV9/WJ70nfDkb9lcyyB2Rv7bftx/5aqz7ORIjxn1tiomYu4H2dnQXcOLTRSaIZaNPtlAYAA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=csgroup.eu; dmarc=pass action=none header.from=csgroup.eu;
 dkim=pass header.d=csgroup.eu; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=csgroup.eu;
 s=selector2;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=peldN5irYtqPhAA1nDyhHOgX78D4l0y7N8YVmpZIIBk=;
 b=N3mQA6DaAOO/y4j0YBrIcsAnBNEKI2LKQ849RtEarUp56gKQKPLLNGlsBXmq5cr/xyYooit07rkJ4F9vwKs2g9YZ8GyfywUHF4Mp3Wbk056hqrTom2YaYLNe+fB83qcIWs4UIsBsvun4eDLQmLAEBr7a3PeBQNtq42G2edse6d5Aw8S4sbNSp7Pr5sSDYiIZgO36gyXMO35foDVsnMPXknjq1YZtokjYoxElDhOgTHv+qw9T+N7cFuvT1xD7d2hwwC7xODN9ASVeWXj9iXiEG4j584FlCZsqlRrVe/huGgjSdBNTahP3962LOiWX9QiBD6eZsNJ2U+NtQZVRQmt2Jw==
Received: from MRZP264MB2988.FRAP264.PROD.OUTLOOK.COM (2603:10a6:501:31::15)
 by PR0P264MB2244.FRAP264.PROD.OUTLOOK.COM (2603:10a6:102:166::12) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.6521.26; Fri, 23 Jun
 2023 05:30:32 +0000
Received: from MRZP264MB2988.FRAP264.PROD.OUTLOOK.COM
 ([fe80::802b:33:561c:4217]) by MRZP264MB2988.FRAP264.PROD.OUTLOOK.COM
 ([fe80::802b:33:561c:4217%4]) with mapi id 15.20.6521.026; Fri, 23 Jun 2023
 05:30:32 +0000
From: Christophe Leroy <christophe.leroy@csgroup.eu>
To: Naveen N Rao <naveen@kernel.org>, "linuxppc-dev@lists.ozlabs.org"
	<linuxppc-dev@lists.ozlabs.org>
Subject: Re: [PATCH 12/17] powerpc/ftrace: Simplify ftrace_make_call()
Thread-Topic: [PATCH 12/17] powerpc/ftrace: Simplify ftrace_make_call()
Thread-Index: AQHZopWnxT/lNRC9H02AMsHBas13CK+X4nuA
Date: Fri, 23 Jun 2023 05:30:32 +0000
Message-ID: <b2a26ee1-9bae-d0d2-0c73-134c3ebb88c7@csgroup.eu>
References: <cover.1687166935.git.naveen@kernel.org>
 <2d28866d2f556488a663981abe5621511efb207b.1687166935.git.naveen@kernel.org>
In-Reply-To:  <2d28866d2f556488a663981abe5621511efb207b.1687166935.git.naveen@kernel.org>
Accept-Language: fr-FR, en-US
Content-Language: fr-FR
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
user-agent: Mozilla/5.0 (X11; Linux x86_64; rv:102.0) Gecko/20100101
 Thunderbird/102.11.0
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=csgroup.eu;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: MRZP264MB2988:EE_|PR0P264MB2244:EE_
x-ms-office365-filtering-correlation-id: 88b5a0c5-9bb5-4468-e673-08db73aaf69e
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info:  hcHx81RNeqMs+h9+iDPOrsfJX+5vcbvlbimW/8b5dVBD4KMauy+hjrCRCloKWmubF5XrDfqjQMoNYLtDs+Xhlkakt8IeveDkYSgC857SqdZVPTek8Mspv9YDW6VdacbkWKkdIh0KcX7Xcf9xm6+slpspFP0KYXTQ763S20VgKmfDysFS4x5Cs8nU3v6T+fIL9El3GL4bGR+frxQDemrkPYy3SGJ+XX/kzSszuuTJK0mY6/FLbCPPUxGMA7IvvnUZpxrzZKL71GX0A2rq8P1wEUkvIx3bxKFptxqXORoITpEOtBqz2Ck+MydLX6p6RUW2thyd8FXP/okM4PvwUAYs9MvPwxf1PT5osGEHWi0Eps+e464s26eyHGHH9xhmn14WXFkNQBlXWEK2hBUczHZB97+n2hdPyHw9VdiPYjk+S0SeL1uApXdtV+DeWtc8Jn5F+osd4ar5NCqJNTUy+Bs1oZcSRU//y6UEu/tgVmUC9MBRcWGyxBUrGbOQQkyKZFNqPhj+blkFLRboNZScZa1l1HecZb2AivazXUJKpZUyXr09+UkpCDshhUR5Ov4y3xVqpqhnDYvZCeu+S6XycVieeNtSomrsH+m5KcgUcC8Dqjd+yMgnFdF+CUpJcNFqU6GBS6bhcRTG35t/PU41UXGwo/6nHtfrGto+jxiBDJ/IIco8eIDFYCjLvo2h6Tn9azSE
x-forefront-antispam-report:  CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:MRZP264MB2988.FRAP264.PROD.OUTLOOK.COM;PTR:;CAT:NONE;SFS:(13230028)(4636009)(39850400004)(376002)(346002)(366004)(136003)(396003)(451199021)(478600001)(71200400001)(4326008)(91956017)(76116006)(110136005)(6506007)(186003)(26005)(66946007)(6512007)(2906002)(6486002)(8676002)(8936002)(64756008)(41300700001)(316002)(66556008)(66476007)(66446008)(5660300002)(44832011)(38100700002)(122000001)(38070700005)(31696002)(36756003)(66574015)(2616005)(83380400001)(86362001)(31686004)(43740500002)(45980500001);DIR:OUT;SFP:1101;
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0:  =?utf-8?B?Z2F3RWp3VUJoSldjM1ovNERsZ0lSMlFUWXZpQktSbldSM2lFQ2t4aFNBcGt1?=
 =?utf-8?B?V3NjZ3k1VUpnWndQUXhtYTh5dUdCZ3VTRENvMTB2QXZkVld6RUowWUZuSi82?=
 =?utf-8?B?VHIvWWZtNVJCUkxZTitzUnZGeklURlJqS0tYVkRlSEtLT0hPYXZsREpFeWJS?=
 =?utf-8?B?b2c4Z1lYZDNlODJQUkdUaHkzWTFHZnJXc241eHU4YkpUZ2VXOHFsUkhGRU9u?=
 =?utf-8?B?QUVxSEVKQkZrc1o0ZzNKMmxBZURzOE5LQ0R1dzlydm9lUnFicFRpYTdFZGxU?=
 =?utf-8?B?bVYyNkpycUNDY0k2ZG13Qk1WcWVOajNSdnRTMnZ2N3lNVzZMNjRMNGFaRVZY?=
 =?utf-8?B?aUVEcmtpU3NEMnNjcWxJeVBtdXJZM3kyTjJDckJrWGwwSlNxcmw0bzNNa0VR?=
 =?utf-8?B?TnQ1OVlFZkZUTk1TWnB0Rm9uZ1JFLzR0SUNLbjVaRTErQ3JXRmdlcWxycnRC?=
 =?utf-8?B?K1B5d3k4dUEvenNqU1RyOGxOOEpjYlpYSW9iZWVFL0JERHpiclZ1MGNhNTJJ?=
 =?utf-8?B?RGl3VWRRdHBOYnd6SkQ1bDB6RGdXd2xsK3N4YkhsZG9odFFaTUF3SlhyT1M5?=
 =?utf-8?B?QWlFb0hPTXZMeC8waUlpbHBHVHpHSzBteURNbXc1ZDRua2tvZEFtb1ZmMjFt?=
 =?utf-8?B?ZnRXQUJtazUvSjNOdmhRZ3hZcmhkeEZzN1NWRDhMNVdiZy80M281a21jZFNi?=
 =?utf-8?B?cllHWld4YjF6dm9hNFpES2xiSXU0UTZNVjFpSUpYOUoySElJb0Y0eTJDMWdK?=
 =?utf-8?B?TUFtQXNENGZiUzlnOUZPb2FFYWZuanZQd08vd3ZpUGZSbnBhSWhLYTBsZTVO?=
 =?utf-8?B?Wm9ZSFhPQUNQdVJ6M1RVV3FyMjVzMmh6ZG5qSlRtNENHOWptbklRbHlHQzZB?=
 =?utf-8?B?UHBDR2QxbXNjM1dFcU1kUHVZUkxVcFZnc2tTYXNKWWNhbGZlTmFOd2RUQ0Vh?=
 =?utf-8?B?d3gxd1JKTUU2dFpMdzJEN3QrMWlaQ1NQV1NYZjJiVktHa1BMQy82OGljL2VU?=
 =?utf-8?B?N0premNhZnhpWjI3eEF3ekE3cGN5MHpnbGs3NzhvUTFibUQ4eGdFODVrakhN?=
 =?utf-8?B?T3NITk5mTWx6SWsraHZXWkwxQ2tFZlBFd01zcWw5bDJUQVZIUjl6Y0dHZTBW?=
 =?utf-8?B?UG5KZ0w4TWZVeHpGdmZwTy8wTmd2ekdqZG1zODg2dVNMbExhMkcyYnJaT0ZT?=
 =?utf-8?B?ZWtBNTFvV25qREpSREZuWDJaYyt5MEZFV0FKV2N2cjBFMllmTWxrNWZnYjRi?=
 =?utf-8?B?RjVjZkRsOHczRllaT1hpZ1ZIVnBHY0U5MVVEWDJWb24ra3ZSQkxzSGprRXdN?=
 =?utf-8?B?THJVUUxxQ3Mzc1F1NTVIWDQzV2haMHQ4akI4L0l5bzl4cldON0tXQjdBdjNk?=
 =?utf-8?B?dk1JaVpiVFR0SHBmUE5DMkhtR0ptcDdKQmx6Y3Q5UnBHU3Q2blZsdGJFQ3dt?=
 =?utf-8?B?elpYQjk0L21obDdORGRaK1hSUCthY0pZNkFZQWczUFhMbU5FVnVDckUwcDRo?=
 =?utf-8?B?WVdHb2ZMbkZTbnNkK3VwU24vM1N3WWVzYTBpYm1ndG5YRDBNeEZCZTFHZzd0?=
 =?utf-8?B?Q0JKVTNWMWM0M1liTkFDc0ovaUJkSjY0RGdMTTBIamtQRVN5TXlqQTVYa1lt?=
 =?utf-8?B?UUVmNGtNb0NTeEN0RGFYWDZMZG1Ea0FmcFJyRWpQSXRseWl4SnRnT2VndnI5?=
 =?utf-8?B?R1AvOTZxeFlnWmR0WE4xNWl3cjQwU1gyUVM1d1VYSEFkWk5TMkh6ZjFoUGhh?=
 =?utf-8?B?eDF0R1RaekV3dkx0eGNLbkFPWUo3UkZMd3dCVDZrU1RGc1Z1b2d1WGdLclZj?=
 =?utf-8?B?UDhQRWYzZUpnRm44ZVJiWEJrV0FBL3l2K3dySnJ3VkNtVlZydSthL0xwSUlZ?=
 =?utf-8?B?Y2FjVmRiQkl1Q0dUWGxGTTd6clhQUEVjQ3F6RTdTdGVXbE1pSUVPTXdkNGFv?=
 =?utf-8?B?MTRWOFRJWWFHS3lzNU40Q29hbVpNeVlQVlhmRGNBbktIc1VjT1dlUnpMNVJ2?=
 =?utf-8?B?NVd0bnVxVTA4R3R1R0xzZE9GVzJxRVJ0bWlPcS9NUW1la0dyankvWlR6OTg4?=
 =?utf-8?B?K3N2cE15dHJETHEvNUdmTmFKcEVyK3hjRTgrUEpPYjc5REVqRkROMy9BRFRH?=
 =?utf-8?B?TFBrQUpHeVpySmtaSkJoMm1UT0RwdVlTZUJlY0pXMU9ZWG9pb2c0b2ZzY1dY?=
 =?utf-8?B?clE9PQ==?=
Content-Type: text/plain; charset="utf-8"
Content-ID: <A152E335EB1F9040B994CDC504BDEA4A@FRAP264.PROD.OUTLOOK.COM>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: csgroup.eu
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: MRZP264MB2988.FRAP264.PROD.OUTLOOK.COM
X-MS-Exchange-CrossTenant-Network-Message-Id: 88b5a0c5-9bb5-4468-e673-08db73aaf69e
X-MS-Exchange-CrossTenant-originalarrivaltime: 23 Jun 2023 05:30:32.1727
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 9914def7-b676-4fda-8815-5d49fb3b45c8
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: ++G+hsrMXzyVGHLxyotitU0/M7C1Kb9KdWM2i7ZrEB+lEcI9+Ok8b0HVKMiS0VFFpruEH9+Av8aaLOYgkGUvSNnwsmjtgSZYAFPueG5aNyA=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: PR0P264MB2244
X-BeenThere: linuxppc-dev@lists.ozlabs.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Linux on PowerPC Developers Mail List <linuxppc-dev.lists.ozlabs.org>
List-Unsubscribe: <https://lists.ozlabs.org/options/linuxppc-dev>,
 <mailto:linuxppc-dev-request@lists.ozlabs.org?subject=unsubscribe>
List-Archive: <http://lists.ozlabs.org/pipermail/linuxppc-dev/>
List-Post: <mailto:linuxppc-dev@lists.ozlabs.org>
List-Help: <mailto:linuxppc-dev-request@lists.ozlabs.org?subject=help>
List-Subscribe: <https://lists.ozlabs.org/listinfo/linuxppc-dev>,
 <mailto:linuxppc-dev-request@lists.ozlabs.org?subject=subscribe>
Cc: Steven Rostedt <rostedt@goodmis.org>
Errors-To: linuxppc-dev-bounces+lists+linuxppc-dev=lfdr.de@lists.ozlabs.org
Sender: "Linuxppc-dev" <linuxppc-dev-bounces+lists+linuxppc-dev=lfdr.de@lists.ozlabs.org>

DQoNCkxlIDE5LzA2LzIwMjMgw6AgMTE6NDcsIE5hdmVlbiBOIFJhbyBhIMOpY3JpdMKgOg0KPiBO
b3cgdGhhdCB3ZSB2YWxpZGF0ZSB0aGUgZnRyYWNlIGxvY2F0aW9uIGR1cmluZyBpbml0aWFsaXph
dGlvbiBpbg0KPiBmdHJhY2VfaW5pdF9ub3AoKSwgd2UgY2FuIHNpbXBsaWZ5IGZ0cmFjZV9tYWtl
X2NhbGwoKSB0byByZXBsYWNlIHRoZSBub3ANCj4gd2l0aG91dCB3b3JyeWluZyBhYm91dCB0aGUg
aW5zdHJ1Y3Rpb25zIHN1cnJvdW5kaW5nIHRoZSBmdHJhY2UgbG9jYXRpb24uDQo+IE5vdGUgdGhh
dCB3ZSBjb250aW51ZSB0byBlbnN1cmUgdGhhdCB3ZSBoYXZlIGEgbm9wIGF0IHRoZSBmdHJhY2UN
Cj4gbG9jYXRpb24gYmVmb3JlIHBhdGNoaW5nIGl0Lg0KPiANCj4gU2lnbmVkLW9mZi1ieTogTmF2
ZWVuIE4gUmFvIDxuYXZlZW5Aa2VybmVsLm9yZz4NCg0KUmV2aWV3ZWQtYnk6IENocmlzdG9waGUg
TGVyb3kgPGNocmlzdG9waGUubGVyb3lAY3Nncm91cC5ldT4NCg0KPiAtLS0NCj4gICBhcmNoL3Bv
d2VycGMva2VybmVsL3RyYWNlL2Z0cmFjZS5jIHwgMTg3ICsrKysrLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tDQo+ICAgMSBmaWxlIGNoYW5nZWQsIDMxIGluc2VydGlvbnMoKyksIDE1NiBkZWxldGlv
bnMoLSkNCj4gDQo+IGRpZmYgLS1naXQgYS9hcmNoL3Bvd2VycGMva2VybmVsL3RyYWNlL2Z0cmFj
ZS5jIGIvYXJjaC9wb3dlcnBjL2tlcm5lbC90cmFjZS9mdHJhY2UuYw0KPiBpbmRleCAwNTE1M2Ex
MDM4ZmRmZi4uNmVhOGI5MDI0NmE1NDAgMTAwNjQ0DQo+IC0tLSBhL2FyY2gvcG93ZXJwYy9rZXJu
ZWwvdHJhY2UvZnRyYWNlLmMNCj4gKysrIGIvYXJjaC9wb3dlcnBjL2tlcm5lbC90cmFjZS9mdHJh
Y2UuYw0KPiBAQCAtMTI5LDE2MiArMTI5LDYgQEAgc3RhdGljIHVuc2lnbmVkIGxvbmcgZmluZF9m
dHJhY2VfdHJhbXAodW5zaWduZWQgbG9uZyBpcCkNCj4gICAJcmV0dXJuIDA7DQo+ICAgfQ0KPiAg
IA0KPiAtI2lmZGVmIENPTkZJR19NT0RVTEVTDQo+IC0vKg0KPiAtICogRXhhbWluZSB0aGUgZXhp
c3RpbmcgaW5zdHJ1Y3Rpb25zIGZvciBfX2Z0cmFjZV9tYWtlX2NhbGwuDQo+IC0gKiBUaGV5IHNo
b3VsZCBlZmZlY3RpdmVseSBiZSBhIE5PUCwgYW5kIGZvbGxvdyBmb3JtYWwgY29uc3RyYWludHMs
DQo+IC0gKiBkZXBlbmRpbmcgb24gdGhlIEFCSS4gUmV0dXJuIGZhbHNlIGlmIHRoZXkgZG9uJ3Qu
DQo+IC0gKi8NCj4gLXN0YXRpYyBib29sIGV4cGVjdGVkX25vcF9zZXF1ZW5jZSh2b2lkICppcCwg
cHBjX2luc3RfdCBvcDAsIHBwY19pbnN0X3Qgb3AxKQ0KPiAtew0KPiAtCWlmIChJU19FTkFCTEVE
KENPTkZJR19EWU5BTUlDX0ZUUkFDRV9XSVRIX1JFR1MpKQ0KPiAtCQlyZXR1cm4gcHBjX2luc3Rf
ZXF1YWwob3AwLCBwcGNfaW5zdChQUENfUkFXX05PUCgpKSk7DQo+IC0JZWxzZQ0KPiAtCQlyZXR1
cm4gcHBjX2luc3RfZXF1YWwob3AwLCBwcGNfaW5zdChQUENfUkFXX0JSQU5DSCg4KSkpICYmDQo+
IC0JCSAgICAgICBwcGNfaW5zdF9lcXVhbChvcDEsIHBwY19pbnN0KFBQQ19JTlNUX0xEX1RPQykp
Ow0KPiAtfQ0KPiAtDQo+IC1zdGF0aWMgaW50DQo+IC1fX2Z0cmFjZV9tYWtlX2NhbGwoc3RydWN0
IGR5bl9mdHJhY2UgKnJlYywgdW5zaWduZWQgbG9uZyBhZGRyKQ0KPiAtew0KPiAtCXBwY19pbnN0
X3Qgb3BbMl07DQo+IC0Jdm9pZCAqaXAgPSAodm9pZCAqKXJlYy0+aXA7DQo+IC0JdW5zaWduZWQg
bG9uZyBlbnRyeSwgcHRyLCB0cmFtcDsNCj4gLQlzdHJ1Y3QgbW9kdWxlICptb2QgPSByZWMtPmFy
Y2gubW9kOw0KPiAtDQo+IC0JLyogcmVhZCB3aGVyZSB0aGlzIGdvZXMgKi8NCj4gLQlpZiAoY29w
eV9pbnN0X2Zyb21fa2VybmVsX25vZmF1bHQob3AsIGlwKSkNCj4gLQkJcmV0dXJuIC1FRkFVTFQ7
DQo+IC0NCj4gLQlpZiAoIUlTX0VOQUJMRUQoQ09ORklHX0RZTkFNSUNfRlRSQUNFX1dJVEhfUkVH
UykgJiYNCj4gLQkgICAgY29weV9pbnN0X2Zyb21fa2VybmVsX25vZmF1bHQob3AgKyAxLCBpcCAr
IDQpKQ0KPiAtCQlyZXR1cm4gLUVGQVVMVDsNCj4gLQ0KPiAtCWlmICghZXhwZWN0ZWRfbm9wX3Nl
cXVlbmNlKGlwLCBvcFswXSwgb3BbMV0pKSB7DQo+IC0JCXByX2VycigiVW5leHBlY3RlZCBjYWxs
IHNlcXVlbmNlIGF0ICVwOiAlMDhseCAlMDhseFxuIiwgaXAsDQo+IC0JCSAgICAgICBwcGNfaW5z
dF9hc191bG9uZyhvcFswXSksIHBwY19pbnN0X2FzX3Vsb25nKG9wWzFdKSk7DQo+IC0JCXJldHVy
biAtRUlOVkFMOw0KPiAtCX0NCj4gLQ0KPiAtCS8qIElmIHdlIG5ldmVyIHNldCB1cCBmdHJhY2Ug
dHJhbXBvbGluZShzKSwgdGhlbiBiYWlsICovDQo+IC0JaWYgKCFtb2QtPmFyY2gudHJhbXAgfHwN
Cj4gLQkgICAgKElTX0VOQUJMRUQoQ09ORklHX0RZTkFNSUNfRlRSQUNFX1dJVEhfUkVHUykgJiYg
IW1vZC0+YXJjaC50cmFtcF9yZWdzKSkgew0KPiAtCQlwcl9lcnIoIk5vIGZ0cmFjZSB0cmFtcG9s
aW5lXG4iKTsNCj4gLQkJcmV0dXJuIC1FSU5WQUw7DQo+IC0JfQ0KPiAtDQo+IC0JaWYgKElTX0VO
QUJMRUQoQ09ORklHX0RZTkFNSUNfRlRSQUNFX1dJVEhfUkVHUykgJiYgcmVjLT5mbGFncyAmIEZU
UkFDRV9GTF9SRUdTKQ0KPiAtCQl0cmFtcCA9IG1vZC0+YXJjaC50cmFtcF9yZWdzOw0KPiAtCWVs
c2UNCj4gLQkJdHJhbXAgPSBtb2QtPmFyY2gudHJhbXA7DQo+IC0NCj4gLQlpZiAobW9kdWxlX3Ry
YW1wb2xpbmVfdGFyZ2V0KG1vZCwgdHJhbXAsICZwdHIpKSB7DQo+IC0JCXByX2VycigiRmFpbGVk
IHRvIGdldCB0cmFtcG9saW5lIHRhcmdldFxuIik7DQo+IC0JCXJldHVybiAtRUZBVUxUOw0KPiAt
CX0NCj4gLQ0KPiAtCXByX2RldmVsKCJ0cmFtcG9saW5lIHRhcmdldCAlbHgiLCBwdHIpOw0KPiAt
DQo+IC0JZW50cnkgPSBwcGNfZ2xvYmFsX2Z1bmN0aW9uX2VudHJ5KCh2b2lkICopYWRkcik7DQo+
IC0JLyogVGhpcyBzaG91bGQgbWF0Y2ggd2hhdCB3YXMgY2FsbGVkICovDQo+IC0JaWYgKHB0ciAh
PSBlbnRyeSkgew0KPiAtCQlwcl9lcnIoImFkZHIgJWx4IGRvZXMgbm90IG1hdGNoIGV4cGVjdGVk
ICVseFxuIiwgcHRyLCBlbnRyeSk7DQo+IC0JCXJldHVybiAtRUlOVkFMOw0KPiAtCX0NCj4gLQ0K
PiAtCWlmIChwYXRjaF9icmFuY2goaXAsIHRyYW1wLCBCUkFOQ0hfU0VUX0xJTkspKSB7DQo+IC0J
CXByX2VycigiUkVMMjQgb3V0IG9mIHJhbmdlIVxuIik7DQo+IC0JCXJldHVybiAtRUlOVkFMOw0K
PiAtCX0NCj4gLQ0KPiAtCXJldHVybiAwOw0KPiAtfQ0KPiAtI2Vsc2UNCj4gLXN0YXRpYyBpbnQg
X19mdHJhY2VfbWFrZV9jYWxsKHN0cnVjdCBkeW5fZnRyYWNlICpyZWMsIHVuc2lnbmVkIGxvbmcg
YWRkcikNCj4gLXsNCj4gLQlyZXR1cm4gMDsNCj4gLX0NCj4gLSNlbmRpZiAvKiBDT05GSUdfTU9E
VUxFUyAqLw0KPiAtDQo+IC1zdGF0aWMgaW50IF9fZnRyYWNlX21ha2VfY2FsbF9rZXJuZWwoc3Ry
dWN0IGR5bl9mdHJhY2UgKnJlYywgdW5zaWduZWQgbG9uZyBhZGRyKQ0KPiAtew0KPiAtCXBwY19p
bnN0X3Qgb3A7DQo+IC0Jdm9pZCAqaXAgPSAodm9pZCAqKXJlYy0+aXA7DQo+IC0JdW5zaWduZWQg
bG9uZyB0cmFtcCwgZW50cnksIHB0cjsNCj4gLQ0KPiAtCS8qIE1ha2Ugc3VyZSB3ZSdyZSBiZWlu
ZyBhc2tlZCB0byBwYXRjaCBicmFuY2ggdG8gYSBrbm93biBmdHJhY2UgYWRkciAqLw0KPiAtCWVu
dHJ5ID0gcHBjX2dsb2JhbF9mdW5jdGlvbl9lbnRyeSgodm9pZCAqKWZ0cmFjZV9jYWxsZXIpOw0K
PiAtCXB0ciA9IHBwY19nbG9iYWxfZnVuY3Rpb25fZW50cnkoKHZvaWQgKilhZGRyKTsNCj4gLQ0K
PiAtCWlmIChwdHIgIT0gZW50cnkgJiYgSVNfRU5BQkxFRChDT05GSUdfRFlOQU1JQ19GVFJBQ0Vf
V0lUSF9SRUdTKSkNCj4gLQkJZW50cnkgPSBwcGNfZ2xvYmFsX2Z1bmN0aW9uX2VudHJ5KCh2b2lk
ICopZnRyYWNlX3JlZ3NfY2FsbGVyKTsNCj4gLQ0KPiAtCWlmIChwdHIgIT0gZW50cnkpIHsNCj4g
LQkJcHJfZXJyKCJVbmtub3duIGZ0cmFjZSBhZGRyIHRvIHBhdGNoOiAlcHNcbiIsICh2b2lkICop
cHRyKTsNCj4gLQkJcmV0dXJuIC1FSU5WQUw7DQo+IC0JfQ0KPiAtDQo+IC0JLyogTWFrZSBzdXJl
IHdlIGhhdmUgYSBub3AgKi8NCj4gLQlpZiAoY29weV9pbnN0X2Zyb21fa2VybmVsX25vZmF1bHQo
Jm9wLCBpcCkpIHsNCj4gLQkJcHJfZXJyKCJVbmFibGUgdG8gcmVhZCBmdHJhY2UgbG9jYXRpb24g
JXBcbiIsIGlwKTsNCj4gLQkJcmV0dXJuIC1FRkFVTFQ7DQo+IC0JfQ0KPiAtDQo+IC0JaWYgKCFw
cGNfaW5zdF9lcXVhbChvcCwgcHBjX2luc3QoUFBDX1JBV19OT1AoKSkpKSB7DQo+IC0JCXByX2Vy
cigiVW5leHBlY3RlZCBjYWxsIHNlcXVlbmNlIGF0ICVwOiAlMDhseFxuIiwNCj4gLQkJICAgICAg
IGlwLCBwcGNfaW5zdF9hc191bG9uZyhvcCkpOw0KPiAtCQlyZXR1cm4gLUVJTlZBTDsNCj4gLQl9
DQo+IC0NCj4gLQl0cmFtcCA9IGZpbmRfZnRyYWNlX3RyYW1wKCh1bnNpZ25lZCBsb25nKWlwKTsN
Cj4gLQlpZiAoIXRyYW1wKSB7DQo+IC0JCXByX2VycigiTm8gZnRyYWNlIHRyYW1wb2xpbmVzIHJl
YWNoYWJsZSBmcm9tICVwc1xuIiwgaXApOw0KPiAtCQlyZXR1cm4gLUVJTlZBTDsNCj4gLQl9DQo+
IC0NCj4gLQlpZiAocGF0Y2hfYnJhbmNoKGlwLCB0cmFtcCwgQlJBTkNIX1NFVF9MSU5LKSkgew0K
PiAtCQlwcl9lcnIoIkVycm9yIHBhdGNoaW5nIGJyYW5jaCB0byBmdHJhY2UgdHJhbXAhXG4iKTsN
Cj4gLQkJcmV0dXJuIC1FSU5WQUw7DQo+IC0JfQ0KPiAtDQo+IC0JcmV0dXJuIDA7DQo+IC19DQo+
IC0NCj4gLWludCBmdHJhY2VfbWFrZV9jYWxsKHN0cnVjdCBkeW5fZnRyYWNlICpyZWMsIHVuc2ln
bmVkIGxvbmcgYWRkcikNCj4gLXsNCj4gLQl1bnNpZ25lZCBsb25nIGlwID0gcmVjLT5pcDsNCj4g
LQlwcGNfaW5zdF90IG9sZCwgbmV3Ow0KPiAtDQo+IC0JLyoNCj4gLQkgKiBJZiB0aGUgY2FsbGlu
ZyBhZGRyZXNzIGlzIG1vcmUgdGhhdCAyNCBiaXRzIGF3YXksDQo+IC0JICogdGhlbiB3ZSBoYWQg
dG8gdXNlIGEgdHJhbXBvbGluZSB0byBtYWtlIHRoZSBjYWxsLg0KPiAtCSAqIE90aGVyd2lzZSBq
dXN0IHVwZGF0ZSB0aGUgY2FsbCBzaXRlLg0KPiAtCSAqLw0KPiAtCWlmICh0ZXN0XzI0Yml0X2Fk
ZHIoaXAsIGFkZHIpKSB7DQo+IC0JCS8qIHdpdGhpbiByYW5nZSAqLw0KPiAtCQlvbGQgPSBwcGNf
aW5zdChQUENfUkFXX05PUCgpKTsNCj4gLQkJbmV3ID0gZnRyYWNlX2NhbGxfcmVwbGFjZShpcCwg
YWRkciwgMSk7DQo+IC0JCXJldHVybiBmdHJhY2VfbW9kaWZ5X2NvZGUoaXAsIG9sZCwgbmV3KTsN
Cj4gLQl9IGVsc2UgaWYgKGNvcmVfa2VybmVsX3RleHQoaXApKSB7DQo+IC0JCXJldHVybiBfX2Z0
cmFjZV9tYWtlX2NhbGxfa2VybmVsKHJlYywgYWRkcik7DQo+IC0JfSBlbHNlIGlmICghSVNfRU5B
QkxFRChDT05GSUdfTU9EVUxFUykpIHsNCj4gLQkJLyogV2Ugc2hvdWxkIG5vdCBnZXQgaGVyZSB3
aXRob3V0IG1vZHVsZXMgKi8NCj4gLQkJcmV0dXJuIC1FSU5WQUw7DQo+IC0JfQ0KPiAtDQo+IC0J
LyoNCj4gLQkgKiBPdXQgb2YgcmFuZ2UganVtcHMgYXJlIGNhbGxlZCBmcm9tIG1vZHVsZXMuDQo+
IC0JICogQmVpbmcgdGhhdCB3ZSBhcmUgY29udmVydGluZyBmcm9tIG5vcCwgaXQgaGFkIGJldHRl
cg0KPiAtCSAqIGFscmVhZHkgaGF2ZSBhIG1vZHVsZSBkZWZpbmVkLg0KPiAtCSAqLw0KPiAtCWlm
ICghcmVjLT5hcmNoLm1vZCkgew0KPiAtCQlwcl9lcnIoIk5vIG1vZHVsZSBsb2FkZWRcbiIpOw0K
PiAtCQlyZXR1cm4gLUVJTlZBTDsNCj4gLQl9DQo+IC0NCj4gLQlyZXR1cm4gX19mdHJhY2VfbWFr
ZV9jYWxsKHJlYywgYWRkcik7DQo+IC19DQo+IC0NCj4gICAjaWZkZWYgQ09ORklHX0RZTkFNSUNf
RlRSQUNFX1dJVEhfUkVHUw0KPiAgICNpZmRlZiBDT05GSUdfTU9EVUxFUw0KPiAgIHN0YXRpYyBp
bnQNCj4gQEAgLTQxOSw2ICsyNjMsMzcgQEAgaW50IGZ0cmFjZV9tb2RpZnlfY2FsbChzdHJ1Y3Qg
ZHluX2Z0cmFjZSAqcmVjLCB1bnNpZ25lZCBsb25nIG9sZF9hZGRyLA0KPiAgIH0NCj4gICAjZW5k
aWYNCj4gICANCj4gK2ludCBmdHJhY2VfbWFrZV9jYWxsKHN0cnVjdCBkeW5fZnRyYWNlICpyZWMs
IHVuc2lnbmVkIGxvbmcgYWRkcikNCj4gK3sNCj4gKwl1bnNpZ25lZCBsb25nIHRyYW1wLCBpcCA9
IHJlYy0+aXA7DQo+ICsJcHBjX2luc3RfdCBvbGQsIG5ldzsNCj4gKwlzdHJ1Y3QgbW9kdWxlICpt
b2Q7DQo+ICsNCj4gKwlvbGQgPSBwcGNfaW5zdChQUENfUkFXX05PUCgpKTsNCj4gKwlpZiAoaXNf
b2Zmc2V0X2luX2JyYW5jaF9yYW5nZShhZGRyIC0gaXApKSB7DQo+ICsJCS8qIFdpdGhpbiByYW5n
ZSAqLw0KPiArCQluZXcgPSBmdHJhY2VfY3JlYXRlX2JyYW5jaF9pbnN0KGlwLCBhZGRyLCAxKTsN
Cj4gKwkJcmV0dXJuIGZ0cmFjZV9tb2RpZnlfY29kZShpcCwgb2xkLCBuZXcpOw0KPiArCX0gZWxz
ZSBpZiAoY29yZV9rZXJuZWxfdGV4dChpcCkpIHsNCj4gKwkJLyogV2Ugd291bGQgYmUgYnJhbmNo
aW5nIHRvIG9uZSBvZiBvdXIgZnRyYWNlIHRyYW1wcyAqLw0KPiArCQl0cmFtcCA9IGZpbmRfZnRy
YWNlX3RyYW1wKGlwKTsNCj4gKwkJaWYgKCF0cmFtcCkgew0KPiArCQkJcHJfZXJyKCIweCVseDog
Tm8gZnRyYWNlIHRyYW1wb2xpbmVzIHJlYWNoYWJsZVxuIiwgaXApOw0KPiArCQkJcmV0dXJuIC1F
SU5WQUw7DQo+ICsJCX0NCj4gKwkJbmV3ID0gZnRyYWNlX2NyZWF0ZV9icmFuY2hfaW5zdChpcCwg
dHJhbXAsIDEpOw0KPiArCQlyZXR1cm4gZnRyYWNlX21vZGlmeV9jb2RlKGlwLCBvbGQsIG5ldyk7
DQo+ICsJfSBlbHNlIGlmIChJU19FTkFCTEVEKENPTkZJR19NT0RVTEVTKSkgew0KPiArCQkvKiBN
b2R1bGUgY29kZSB3b3VsZCBiZSBnb2luZyB0byBvbmUgb2YgdGhlIG1vZHVsZSBzdHVicyAqLw0K
PiArCQltb2QgPSByZWMtPmFyY2gubW9kOw0KPiArCQl0cmFtcCA9IChhZGRyID09ICh1bnNpZ25l
ZCBsb25nKWZ0cmFjZV9jYWxsZXIgPyBtb2QtPmFyY2gudHJhbXAgOiBtb2QtPmFyY2gudHJhbXBf
cmVncyk7DQo+ICsJCW5ldyA9IGZ0cmFjZV9jcmVhdGVfYnJhbmNoX2luc3QoaXAsIHRyYW1wLCAx
KTsNCj4gKwkJcmV0dXJuIGZ0cmFjZV9tb2RpZnlfY29kZShpcCwgb2xkLCBuZXcpOw0KPiArCX0N
Cj4gKw0KPiArCXJldHVybiAtRUlOVkFMOw0KPiArfQ0KPiArDQo+ICAgaW50IGZ0cmFjZV9tYWtl
X25vcChzdHJ1Y3QgbW9kdWxlICptb2QsIHN0cnVjdCBkeW5fZnRyYWNlICpyZWMsIHVuc2lnbmVk
IGxvbmcgYWRkcikNCj4gICB7DQo+ICAgCXVuc2lnbmVkIGxvbmcgdHJhbXAsIGlwID0gcmVjLT5p
cDsNCg==
